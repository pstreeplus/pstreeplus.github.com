---
layout: post
title: Git学习笔记
category: 技术
tags: git
---


#### Git为何物
>Git是一种分布式版本管理控制工具。

####初次运行前的配置
> `git config --global user.name 'your_name' #配置git的用户名`

> `git config --global user.email 'your_email' #配置git的用户的邮箱`

####初始化工作区
> `git init #会在当前目录生成.git目录，git工作就靠它了` 

####工作区、暂存区、当前分支
>在Git中，有三个非常重要的概念：`工作区、暂存区、当前分支`:

>   工作区: Git当前工作的目录，用于编辑和创建文件的地方。

>   暂存区: 用户修改完成后，需要把新的内容添加到此处，暂存起来。

>   当前分支: Git工作的当前分支，接受暂存区的内容，将最近的修改提交到当前分支。

>***这三个概念是学习Git的基础，搞清楚了这些，学习后面的命令和解决问题才会得心应手，不至于糊里糊涂***。

####修改、提交
>1. `echo 'test' >> readme.txt #修改了一个文件，工作区被修改` 

>2. `git status #查看当前工作区状态`

>3. `git add readme.txt #将修改添加到暂存区`

>4. `git commit -m 'echo test to readme.txt' #将暂存区的内容提交到当前分支`

####撤销、回退
>在Git中可以很方便的撤销修改、回退版本。

>1. 我们修改工作区中的一个文件后，用`git status`可以查看到状态是`modified`，也就是修改后还没添加到暂存区(`stage`), 此时可以使用`git add`来添加到暂存区，或者使用`git checkout -- file_name`来撤销更改，然后工作区就会回到修改前的状态。

>2. 上面是在工作区中修改后还没添加到暂存区的情形，如果已经把工作区的修改添加到了暂存区了该这么撤销呢？使用`git reset HEAD file_name`来撤销添加到暂存区的内容，此时状态回到`unstage`状态，可以用1中的方法继续撤销。

>3. 如果需要撤销本地版本库的提交，可以使用`git reset --hard HEAD^`, ·`--hard`选项表示彻底撤销，这样工作区的内容也会回到上个版本，`HEAD^`，表示最近的一次提交，如果想回退到之前的某个版本而不是最近的这个，可以使用`git reset --hard commit_id`，commit_id代表某次提交的SHA-1号，使用前6位就行了，git会根据这个去历史记录中自动匹配。

>4. 还有一种情况是如果把本地版本库的更新推送到了远程库，想要回退到之前的版本怎么办呢？那就现在本地将版本库回退到之前的版本，使用`git reset --hard HEAD^`，此时再将本地版本推送至远程库`git push origin master`，这时Git会拒绝推送，因为本地版本库比远程的旧，此时可以加上`--force`选项推送，`git push --force origin master`，这种方式强行推送，会覆盖掉远程版本库，同时不会保留历史记录，如果想保留历史记录可以使用`--revert`，这样git会保留你的历史记录，相当于增加一次commit。

####查看提交记录
> `git log`或者`git log --pretty=oneline`，前者显示每次提交的详细信息，或者只显示SHA-1号和提交时的备注。
