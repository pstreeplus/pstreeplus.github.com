---
title: 关于筛素数的一些优化
layout: post

---

最近在[Lightoj](http://lightoj.com/article_show.php?article=1001)上看到一个不错的素数筛法，感觉逼格还是比较高的。

##1.首先看最朴素的筛法：

```cpp
bool isPrime(int n){
    bool flag(true);
    for(int i = 2;i < n;i ++){
        if(n % i == 0){
            flag = false;
            break;
        }
    }
    return flag;
}
```

其实我们不必每次从<let>2</let>判断到<let>n<let>。因为<let>n/2</let>到<let>n</let>不可能有<let>n</let>的约数,于是：

```cpp
bool isPrime(int n){
    bool flag(true);
    for(int i = 2;i <= n/2;i ++){
        if(n % i == 0){
            flag = false;
            break;
        }
    }
    return flag;
}
```

事实上，我们只需要判段到跟号<let>n</let>就行，因为如果<let>2</let>到跟号<let>n</let>没有约数，那么跟号<let>n</let>到<let>n</let>也不可能存在约数,于是：

```cpp
bool isPrime(int n){
    bool flag(true);
    int sqrtN = (int)sqrt(n);
    for(int i = 2;i <= sqrtN;i ++){
        if(n % i == 0){
            flag = false;
            break;
        }
    }
    return flag;
}
```

<pre>

------------------------------------------------------------

</pre>

##以上是小学生做法，几乎是纯暴力。

<pre>


</pre>



#下面介绍常用的筛素数的方法，也就是[埃拉托斯特尼筛法](http://zh.wikipedia.org/wiki/%E5%9F%83%E6%8B%89%E6%89%98%E6%96%AF%E7%89%B9%E5%B0%BC%E7%AD%9B%E6%B3%95)

##(1).朴素筛法:

```cpp
const int MAXN = 111111;
bool isPrime[MAXN] = {true};
void seive(int n){
    for(int i = 2;i <= n;i ++){
        if(isPrime[i] == true){
            for(int j = i + i;j <= n;j += i)
                isPrime[j] = false;
        }
    }
}
```
