---
layout : post
category : 技术
title : 数值表示
tagline : number
tags : [number, code]
---

<small>UVA出问题了，百无聊赖总结点东西聊以自慰</small>

<h3>1.什么是数</h3>

我发现大多数人（包括我）分不清数和数的表示之间的根本区别，大多数情况下这种混淆并无大碍，但是当涉及到算法时，这太重要了。所以早上学了一把。

如果我说“这段话有一百字”，你可以数数以确认一下，但是“一百”不是这些字，它只是被用在这里，作为描述而已。

<pre class="prettyprint">
100      //十进制表示
C        //罗马数字
64       //十六进制
1100100  //二进制
144      //八进制
itbug    //状语
</pre>

这些只是这个数的表示，一些符号而已，并不真的是这个数。

那么到底什么是数呢？我语文不好。

<h3>2.记数系统</h3>

当今社会，人们最常用的是十进制系统，就是我们从小到大学的。而大多数计算机系统则使用二进制表示法。

当然还有其他表示法，比如tally-slash表示法：
![pitc](http://quant67.github.io/assets/number/001.jpg)

<h3>2.1.十进制</h3>
<pre class="prettyprint">
314.16 = 3 x 100 + 1 x 10 + 4 x 1 = 1 x 0.1 = 6 x 0.01
</pre>

不说了，都知道。

这是很科学的记数法，因为：

(1)10所占空间是tally-slash的三分之一

(2)100所占空间是tally-slash的百分之三

(3)100则是千分之三

数值越大，这个优势就越明显。

<h3>2.2.进制</h3>

举例来说，八进制的${ 123 }_{ 8 }$ 等同于:

$1\times { 8 }^{ 2 }+2\times { 8 }^{ 1 }+{ 8 }^{ 0 }$

这就是8进制的意思，而10进制，2进制也是同一个道理。


<h3>2.3.二进制</h3>

对于计算机专业的学生，对二进制系统已经很熟悉了，但是来个短暂的回顾还是有必要的。

二进制只用0和1，使用2的幂而不是10的幂。

为什么使用二进制？毕竟几乎所有的计算机语言都允许程序员使用十进制符号。

大多数现代计算机系统使用二进制与I/O设备交互，而且他们的运算电路操作也是二进制数据，基于此，很多算法依赖二进制。

<h3>2.3.1.十进制与二进制相互换算</h3>

二进制转十进制:

${ 110 }_{ 2 }=1\times { 2 }^{ 2 }+1\times { 2 }^{ 1 }+0\times { 2 }^{ 0 }$

十进制转为二进制 同样简单：

(1)如果数值为偶数，产生一个0，如果为奇数，产生一个1

(2)将数值除以2，并舍弃余数，剩下整数部分

(3)如果商是0，计算完毕

(4)如果商不是0，而且是奇数在当前的结果串前面加入一个1，如果上不是0而且是偶数，则加入一个0

(5)循环第2部继续执行

<h3>2.3.3.程序设计语言中的二进制表示</h3>

数学家使用下标表示法表示二进制数，省略下标表示十进制。虽然这很容易辨认，但是大多数程序语言编辑器并不支持下标，就算有这种编辑器，编译器也不认的。因此，我们需要找个方法来在ASCII码文本文件中表示不同基数。

一般来说，只有汇编语言的汇编程序允许程序员使用真正字面意义上的二进制常量。当前有很多不同的汇编程序，因此在汇编语言中表示二进制的方法有很多种也就不足为奇了。

MASM将任何以"b"或"B"结尾的0、1序列看做二进制。

而HLA则用前缀:%，并且允许使用下划线。%11_1011_0111是允许的

<h3>2.4十六进制</h3>

其他的不必多说，用字母A~F表示11到15

<h3>2.4.1程序设计语言的十六进制表示法</h3>

十六进制的问题在于无法分辨"dead"这类符号。

C、C++、C#、Java以及其他从C语言衍生出来的语言用前缀"0x"：0xdead

MASM用后缀"H"或者"h"。规定十六进制必须以数字开头：0deadh

Visual Basic 使用前缀"&H"或者"&h"：&Hdead

Pascal(Delphi/Kylix)用前缀 $:$dead

HLA用前缀"$"，并允许下划线：$FDEC_A012

<h3>2.4.2.十六进制与二进制</h3>

十六进制与二进制的互换是很简单的，比如$A=%1010，$B=%1011,那么&AAB=%1010_1010_1011

<h3>2.5八进制</h3>

C语言中用前缀"0"

MASM用后缀"Q"或"q"

Visual Basic 用前缀&O(字母O，不是数字0)

而与二进制的互换不是一位对应四位而是一位对应3位。


<h3>3.数串转换</h3>

想想吧，将字符串转换成数在很多种语言中是多么容易：

<pre class="prettyprint">
cin >> i;        //C++

readln( i )      //Pascal

input i;         //BASIC

stdin.get(i);    //HLA
</pre>

由于这些语句是如此易用大多数人都不会考虑他们的代价，很不幸。

下面是这些方法工作内容的**简化**：

(1)将存储最终结果的变量清零。

(2)如果串中再没有数字，结束。而变量存储的是对应的数

(3)从串中取出下一个数字(从左到右)

(4)将变量乘十，然后加上步骤3中取到的数

(5)回到步骤2


如果是将整型数值转换成串：

(1)将字符转初始化为空串

(2)如果整数为零，输出0，结束

(3)将当前整数除以10，得到余数和商

(4)将余数转换成一个字符，把该字符接到字符串的尾部

(5)如果商不为0，使用它作为新的整型数，重复3~5步

(6)将字符串中的字符按放入顺序逆序输出

记得除法是非常慢的，因此，下面这些简单语句其实都涉及了大量的工作：

<pre class="prettyprint">
printf("%d", i); //C

write( i )       //Pascal

print i;         //BASIC

stdout.put(i);   //HLA
</pre>

在浮点数中，这会更复杂。

<h3>4.数的内部表示</h3>

当然是用二进制，有时候是电压的多少表示01串，有时候是磁极的南北，很多种表示法。

<h3>4.1.关于负数</h3>

处理器通过电荷的传递为我们计算加法，但是对于减法它是无能为力的，所以我们需要设计合理的计数法。

假设一个占一个字节的整型值，第一位为0表示整数，为1表示负数，当然，没有那么简单。如果我们要表示`-7`，那么就得让`(-7)+7=0`。

7的二进制表示是`00000111`，那么我们需要一个-7，使得它与这个数相加得0。可以把每一位取反，得到串`11111000`，这时两数相加得到`11111111`。而11111111+1=100000000，但是我们没有第9位，所以计算机会把它计算为`00000000`。这就显然了，负数是正数取反再加1。

<h3>5.二进制的一些有用特性</h3>

1.如果第零位的值是1，它就是奇数，是零就是偶数。

2.如果一个二进制数低n位都是0，那么这个数可以被2n整除

3.讲一个二进制左移一位结果将是它除以2，右移一位就是乘以2，这对有符号数不适用。

4.将一个二进制数取反，等效于取负再减一。
